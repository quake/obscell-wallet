# CKB devnet config for integration tests

data_dir = "data"

[chain]
spec = { file = "specs/dev.toml" }

[logger]
filter = "info"
color = true
log_to_file = true
log_to_stdout = false

[sentry]
dsn = ""

[db]
cache_size = 268435456
options_file = "default.db-options"

[network]
listen_addresses = ["/ip4/0.0.0.0/tcp/8115"]
bootnodes = []
max_peers = 10
max_outbound_peers = 4
ping_interval_secs = 120
ping_timeout_secs = 1200
connect_outbound_interval_secs = 15
upnp = false
discovery_local_address = true
bootnode_mode = false

[rpc]
listen_address = "127.0.0.1:8114"
max_request_body_size = 10485760
# Include IntegrationTest module for generate_block and truncate
modules = ["Net", "Pool", "Miner", "Chain", "Stats", "Subscription", "Experiment", "Debug", "IntegrationTest", "Indexer"]
reject_ill_transactions = true
enable_deprecated_rpc = false

[tx_pool]
max_tx_pool_size = 180_000_000
min_fee_rate = 1_000
min_rbf_rate = 1_500
max_tx_verify_cycles = 70_000_000
max_ancestors_count = 25

[store]
header_cache_size          = 4096
cell_data_cache_size       = 128
block_proposals_cache_size = 30
block_tx_hashes_cache_size = 30
block_uncles_cache_size    = 30

# Block assembler config - uses the miner private key from dev.toml
# Private key: d00c06bfd800d27397002dca6fb0993d5ba6399b4238b2f29ee9deb97593d2bc
# Lock args (blake160 of pubkey): c8328aabcd9b9e8e64fbc566c4385c3bdeb219d7
[block_assembler]
code_hash = "0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8"
args = "0xc8328aabcd9b9e8e64fbc566c4385c3bdeb219d7"
hash_type = "type"
message = "0x"
